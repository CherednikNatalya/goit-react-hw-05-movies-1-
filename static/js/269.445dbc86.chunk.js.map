{"version":3,"file":"static/js/269.445dbc86.chunk.js","mappings":"8PA0DA,UA/Ce,WACX,OAA8BA,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA4BF,EAAAA,EAAAA,UAASG,EAAAA,EAAAA,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACOC,GAAUC,EAAAA,EAAAA,MAAVD,SAEPE,EAAAA,EAAAA,YAAW,WACP,IAAMC,EAAU,mCAAG,WAAMC,GAAN,8EACfL,EAAUF,EAAAA,EAAAA,SADK,mBAGMQ,EAAAA,EAAAA,IAAiBD,GAHvB,OAGNE,EAHM,OAKZC,EAAUD,GALE,gDAOXE,QAAQC,IAAR,MACAV,EAAUF,EAAAA,EAAAA,OARC,yDAAH,sDAWhBM,EAAWH,EACd,GAAE,CAACA,IAEJ,IAAMO,EAAY,SAAAD,GACd,IAAMI,EAAcJ,EAAKK,KAAI,kBAA6B,CACtDC,GADyB,EAAGA,GAE5BC,OAFyB,EAAOA,OAGhCC,QAHyB,EAAeA,QAAf,IAK7BlB,EAAWc,GACXX,EAAUF,EAAAA,EAAAA,QACb,EAED,OACJ,gCACSC,IAAWD,EAAAA,EAAAA,UAAkB,SAAC,IAAD,IAC7BC,IAAWD,EAAAA,EAAAA,SAAoC,IAAlBF,EAAQoB,QAAe,sEACpD,SAAC,EAAAC,KAAD,UACIrB,EAAQgB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OACT,2BACI,SAAC,EAAAG,KAAD,UAAOJ,KACP,SAAC,EAAAK,KAAD,UAAOJ,MAFFF,EADA,QAUxB,C,kOCtDKO,EAAU,mCACVC,EAAYC,EAAAA,EAAAA,OAAa,CAC9BC,QAAS,kCAGGC,EAAmB,mCAAG,sGAGxBH,EAAUI,IAAV,qBAAoC,CAC7CC,OAAQ,CACPC,QAASP,KALuB,uBAEzBQ,EAFyB,EAEjCrB,KAAQqB,QAFyB,kBAQ3BA,GAR2B,2CAAH,qDAYnBC,EAAiB,mCAAG,WAAMC,GAAN,yFAGtBT,EAAUI,IAAV,eAA8B,CACvCC,OAAQ,CACPC,QAASP,EACTf,MAAOyB,KANuB,uBAEvBF,EAFuB,EAE/BrB,KAAQqB,QAFuB,kBASzBA,GATyB,2CAAH,sDAYjBG,EAAqB,mCAAG,WAAM9B,GAAN,yFACboB,EAAUI,IAAV,gBAAuBxB,GAAW,CACxDyB,OAAQ,CACPC,QAASP,KAHyB,uBAC5Bb,EAD4B,EAC5BA,KAD4B,kBAM7BA,GAN6B,2CAAH,sDASrByB,EAAa,mCAAG,WAAM/B,GAAN,yFAGlBoB,EAAUI,IAAV,gBAAuBxB,EAAvB,YAA0C,CACnDyB,OAAQ,CACPC,QAASP,KALiB,uBAEnBa,EAFmB,EAE3B1B,KAAQ0B,KAFmB,kBAQrBA,GARqB,2CAAH,sDAWb3B,EAAgB,mCAAG,WAAML,GAAN,yFAGrBoB,EAAUI,IAAV,gBAAuBxB,EAAvB,YAA0C,CACnDyB,OAAQ,CACPC,QAASP,KALoB,uBAEtBQ,EAFsB,EAE9BrB,KAAQqB,QAFsB,kBAQxBA,GARwB,2CAAH,qD,kCC5C3B,IAPa,CACXM,KAAM,OACNC,QAAS,UACTC,QAAS,UACTC,MAAO,Q","sources":["pages/MovieDetails/Reviews/Reviews.jsx","services/API.js","services/status.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams} from 'react-router-dom'\n\nimport {fetchReviewsById} from 'services/API'\nimport STATUS from 'services/status'\n\n\nimport {  List, Name, Text} from './Reviews.styled'\nimport Loader from 'components/Loader/Loader'\n\n\nconst Reviews =()=>{\n    const [reviews, setReviews] = useState([]);\n    const [status, setStatus] = useState(STATUS.idle);\n    const {movieId} =useParams()\n\n    useEffect (()=>{\n        const getReviews = async query => {\n            setStatus(STATUS.pending)\n            try {\n               const data =await fetchReviewsById(query)\n              \n               onResolve(data) \n            } catch (error) {\n                console.log(error);\n                setStatus(STATUS.error); \n            }\n        }\n        getReviews(movieId)\n    }, [movieId])\n    \n    const onResolve = data => {\n        const dataReviews = data.map(({ id, author, content}) => ({\n            id, \n            author, \n            content\n        }));\n        setReviews(dataReviews);\n        setStatus(STATUS.success);\n    }\n    \n    return (\n<>\n        {status === STATUS.pending && <Loader />}\n        {status === STATUS.success && reviews.length ===0 ? (<p>We don't have any reviews for this movies</p>) :\n        (<List>\n            {reviews.map(({ id, author, content }) => (\n                <li key={id}>\n                    <Name>{author}</Name>\n                    <Text>{content}</Text>\n                </li>\n            ))}\n        </List> \n        )}\n     </>\n    )\n}\n\nexport default Reviews","import axios from 'axios';\n\nconst API_KEY = 'b52f4a97df843a5ead1cf8ccfba387fd';\nconst moviesApi = axios.create({\n\tbaseURL: 'https://api.themoviedb.org/3/',\n});\n\nexport const fetchTrendingMovies = async () => {\n\tconst {\n\t\tdata: { results },\n\t} = await moviesApi.get(`trending/movie/day`, {\n\t\tparams: {\n\t\t\tapi_key: API_KEY,\n\t\t},\n\t});\n\treturn results;\n};\n\n\nexport const fetchSearchMovies = async searchName => {\n\tconst {\n\t\tdata: { results },\n\t} = await moviesApi.get(`search/movie`, {\n\t\tparams: {\n\t\t\tapi_key: API_KEY,\n\t\t\tquery: searchName,\n\t\t},\n\t});\n\treturn results;\n};\n\nexport const fetchMovieDetailsById = async movieId => {\n\tconst { data } = await moviesApi.get(`movie/${movieId}`, {\n\t\tparams: {\n\t\t\tapi_key: API_KEY,\n\t\t},\n\t});\n\treturn data;\n};\n\nexport const fetchCastById = async movieId => {\n\tconst {\n\t\tdata: { cast },\n\t} = await moviesApi.get(`movie/${movieId}/credits`, {\n\t\tparams: {\n\t\t\tapi_key: API_KEY,\n\t\t},\n\t});\n\treturn cast;\n};\n\nexport const fetchReviewsById = async movieId => {\n\tconst {\n\t\tdata: { results },\n\t} = await moviesApi.get(`movie/${movieId}/reviews`, {\n\t\tparams: {\n\t\t\tapi_key: API_KEY,\n\t\t},\n\t});\n\treturn results;\n};","const STATUS = {\n    idle: 'idle',\n    pending: 'pending',\n    success: 'success',\n    error: 'error',\n  };\n\n  export default STATUS"],"names":["useState","reviews","setReviews","STATUS","status","setStatus","movieId","useParams","useEffect","getReviews","query","fetchReviewsById","data","onResolve","console","log","dataReviews","map","id","author","content","length","List","Name","Text","API_KEY","moviesApi","axios","baseURL","fetchTrendingMovies","get","params","api_key","results","fetchSearchMovies","searchName","fetchMovieDetailsById","fetchCastById","cast","idle","pending","success","error"],"sourceRoot":""}